<html>

<head>
    <meta charset="UTF-8" />
    <link rel="shortcut icon" href="/img/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="/css/style.css">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <script src="/js/script.js"></script>
    <title>RPi Server</title>
</head>

<body>
    <script>
        $(document).ready(function() {
            $('input:checkbox').prop('checked', false);

            $("#fileUploadInput").change(function() {
                $("#fileUploadForm").submit();
            });
        });
    </script>
    
    <div>
        <h1>RPi File Server</h1>
        <label>
            <form id="fileUploadForm" action="{{url}}" method="post" enctype="multipart/form-data">
                <input type="file" name="fileUpload" id="fileUploadInput"/>
                <span id="newBtn">+</span>
            </form>
        </label>
    </div>

    <div>
        {{#dirs}}
        <div class="directoryLine dir">
            <label class="checkboxContainer">
                <input type="checkbox" class="dirCheckbox" value="{{dir}}">
                <span class="checkmark"></span>
            </label>
            <div class="directoryChunk" onclick="openFolder('{{dir}}');">
                <img class="folderIcon" src="/img/folder-icon.png">
                <div class="directoryItem">{{dir}}</div>
            </div>
        </div>
        {{/dirs}} {{#files}}
        <div class="directoryLine file">
            <label class="checkboxContainer">
                <input type="checkbox" class="fileCheckbox" value="{{file}}">
                <span class="checkmark"></span>
            </label>
            <img class="fileIcon" src="/img/file-icon.png">
            <div class="directoryItem">{{file}}</div>
        </div>
        {{/files}}
        <div class="directoryLine"></div>
    </div>
</body>

</html>