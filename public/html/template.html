<html>

<head>
    <meta charset="UTF-8" />
    <link rel="shortcut icon" href="/img/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="/css/style.css">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <script src="/js/script.js"></script>
    <script src="/js/handlers.js"></script>
    <title>RPi Server</title>
</head>

<body>
    <div>
        <h1>RPi File Server</h1>

        <form id="fileUploadForm" action="{{url}}" method="post" enctype="multipart/form-data">
            <input type="file" name="fileUpload" id="fileUploadInput"/>
            <input type="hidden" name="uploadType" value="file"/>
        </form>

        <div>
            <div class="actionContainer">
                <span class="actionBtn" id="addBtn">+</span>
                <div id="addDropdown" class="dropdown">
                    <div id="newFolderBtn" class="dropdownOption topElement">New Folder</div>
                    <div id="uploadBtn" class="dropdownOption">Upload File</div>
                </div>
            </div>
            <div class="actionContainer">
                <span class="actionBtn" id="changeBtn">-</span>
                <div id="changeDropdown" class="dropdown">
                    <div id="copyBtn" class="dropdownOption topElement">Copy</div>
                    <div id="deleteBtn" class="dropdownOption">Delete</div>
                </div>
            </div>
        </div>
    </div>

    <div>
        {{#dirs}}
        <div class="directoryLine dir">
            <label class="checkboxContainer">
                <input type="checkbox" class="dirCheckbox" value="{{dir}}">
                <span class="checkmark"></span>
            </label>
            <div class="directoryChunk" onclick="openFolder('{{dir}}');">
                <img class="folderIcon" src="/img/folder-icon.png">
                <div class="directoryItem">{{dir}}</div>
            </div>
        </div>
        {{/dirs}} {{#files}}
        <div class="directoryLine file">
            <label class="checkboxContainer">
                <input type="checkbox" class="fileCheckbox" value="{{file}}">
                <span class="checkmark"></span>
            </label>
            <img class="fileIcon" src="/img/file-icon.png">
            <div class="directoryItem">{{file}}</div>
        </div>
        {{/files}}
        <div class="directoryLine"></div>
    </div>

    <div id="newFolderPopup">
        <h2 class="center">New Folder</h2>
        <input id="newFolderInput" type="text" placeholder="New Folder Name"/>
        <div id="newFolderAdd" class="newFolderBtn" style="float: left;">Add</div>
        <div id="newFolderCancel" class="newFolderBtn" style="float: right;">Cancel</div>
    </div>

</body>

</html>